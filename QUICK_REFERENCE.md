# 🎯 快速参考卡

## 🌐 访问地址
```
http://127.0.0.1:8000/tasks/create/
```
**服务器正在运行，直接打开浏览器访问即可！**

## 📱 新功能快速访问

| 我想... | 在哪里找 | 怎么做 | 支持的文件类型 |
|---------|----------|--------|---------------|
| 📋 **保存配置模板** | 步骤3 顶部 | 输入模板名 → 点击"保存模板" | 所有类型 |
| 🔄 **加载配置模板** | 步骤3 顶部 | 下拉选择模板 → 自动填充 | 所有类型 |
| 👁️ **预览文件数据** | 步骤3 中部 | 点击文件旁"预览数据"按钮 | Excel/CSV ✅ |
| 🧹 **清洗数据** | 步骤3 中下 | 配置规则 → "添加规则" | Excel/CSV ✅ |
| ✅ **验证数据** | 步骤3 底部 | 配置规则 → "运行数据验证" | Excel/CSV ✅ |
| 📊 **生成图表** | 步骤5 | 点击"生成统计图表"按钮 | Excel/CSV ✅ |

### 📝 文件类型说明
- **Excel/CSV文件** (.xlsx, .xls, .csv)：支持所有功能
- **JSON文件** (.json)：仅支持上传和合并，不支持预览、清洗、验证、图表
- **混合文件任务**：系统会自动跳过不支持的文件，并显示警告提示

## 🎮 5步向导流程

```
1️⃣ 基本配置
   ↓ 输入任务名、选择格式
   
2️⃣ 上传文件  
   ↓ 拖拽或点击上传
   
3️⃣ 数据预览与清洗 ⭐ NEW
   ├─ 应用模板（可选）
   ├─ 预览文件数据
   ├─ 添加清洗规则
   └─ 添加验证规则 + 运行验证
   
4️⃣ 高级设置
   ↓ 列规则、批量操作（可选）
   
5️⃣ 确认执行
   ├─ 开始处理
   └─ 生成统计图表 ⭐ NEW
```

## 🔧 7种清洗规则

| 规则 | 用途 | 参数示例 |
|------|------|----------|
| 去除重复行 | 删除重复数据 | 无 |
| 填充空值 | 填充空单元格 | `{"value": "未知"}` |
| 去除空格 | 删除前后空格 | 无 |
| 标准化大小写 | 统一大小写 | `{"case": "upper"}` |
| 标准化日期 | 统一日期格式 | `{"format": "%Y-%m-%d"}` |
| 移除特殊字符 | 删除非字母数字 | 无 |
| 标准化电话 | 统一电话格式 | 无 |

## ✅ 7种验证规则

| 规则 | 用途 | 参数示例 |
|------|------|----------|
| 类型检查 | 验证数据类型 | `{"type": "int"}` |
| 范围验证 | 检查数值范围 | `{"min": 0, "max": 100}` |
| 正则匹配 | 验证格式 | `{"pattern": "^\\d{11}$"}` |
| 非空检查 | 确保不为空 | 无 |
| 唯一性检查 | 检查重复值 | 无 |
| 长度检查 | 验证字符串长度 | `{"min": 5, "max": 20}` |
| 枚举值检查 | 验证值在列表中 | `{"allowed": ["男", "女"]}` |

## 💡 3分钟快速体验

### 体验A: 数据预览
```
1. 打开 http://127.0.0.1:8000/tasks/create/
2. 输入任务名
3. 上传一个Excel文件
4. 进入步骤3
5. 点击"预览数据"
✅ 查看数据统计、类型、空值
```

### 体验B: 数据清洗
```
1-3. 同上
4. 在步骤3添加清洗规则：
   类型：去除重复行
5. 继续到步骤5执行
✅ 下载结果查看效果
```

### 体验C: 保存模板
```
1-4. 配置好所有规则
5. 在"保存为新模板"输入名称
6. 点击"保存模板"
✅ 下次可一键应用
```

## 📋 常用参数速查

### 填充空值
```json
{"value": "0"}
{"value": "未知"}
{"value": "N/A"}
```

### 大小写
```json
{"case": "upper"}  // 大写
{"case": "lower"}  // 小写
```

### 日期格式
```json
{"format": "%Y-%m-%d"}      // 2025-01-20
{"format": "%Y/%m/%d"}      // 2025/01/20
{"format": "%d-%m-%Y"}      // 20-01-2025
```

### 类型检查
```json
{"type": "int"}    // 整数
{"type": "float"}  // 浮点数
{"type": "str"}    // 字符串
```

### 范围验证
```json
{"min": 0, "max": 100}     // 成绩
{"min": 18, "max": 65}     // 年龄
```

### 正则匹配
```json
{"pattern": "^\\d{11}$"}           // 手机号
{"pattern": "^[A-Z]{2}\\d{6}$"}   // 学号
{"pattern": "^[a-zA-Z0-9]+$"}     // 字母数字
```

### 长度检查
```json
{"min": 5, "max": 20}   // 用户名长度
{"min": 11, "max": 11}  // 手机号长度
```

### 枚举值
```json
{"allowed": ["男", "女"]}
{"allowed": ["A", "B", "C", "D"]}
{"allowed": ["已完成", "进行中", "未开始"]}
```

## 🎨 界面元素说明

### 按钮颜色
- 🔵 **蓝色** - 主要操作（下一步、保存）
- 🟢 **绿色** - 确认执行（开始处理）
- 🔴 **红色** - 删除操作
- ⚪ **灰色** - 次要操作（上一步、关闭）
- 🟡 **黄色** - 信息提示

### 步骤指示器
- ✅ **绿色勾** - 已完成的步骤
- 🔵 **蓝色圆** - 当前步骤
- ⚪ **灰色圆** - 未到达的步骤

## ⚡ 使用技巧

### 技巧1: 先预览再配置
```
上传文件 → 预览数据 → 根据数据特点配置规则
```

### 技巧2: 验证后再清洗
```
添加验证规则 → 运行验证 → 根据错误配置清洗规则
```

### 技巧3: 保存常用模板
```
为不同数据类型保存模板，下次直接应用
```

### 技巧4: 规则顺序很重要
```
建议顺序：
1. 去除空格
2. 标准化格式
3. 填充空值
4. 去除重复
```

## ⚠️ 注意事项

- ✅ JSON参数必须用**双引号**
- ✅ 预览只显示前100行（处理时会处理全部）
- ✅ 清洗规则按添加顺序执行
- ✅ 验证只检查不修改数据
- ✅ 需要先创建任务才能保存模板
- ⚠️ **文件类型限制**：
  - 预览、清洗、验证、图表功能仅支持 Excel/CSV 文件
  - JSON文件仅支持上传和合并
  - 混合任务时，不支持的文件会被自动跳过

## 📚 文档清单

| 文档 | 用途 | 阅读时间 |
|------|------|----------|
| `FEATURES_READY.md` | 功能就绪通知 | 3分钟 |
| `UI_USER_GUIDE.md` | 完整使用指南 | 15分钟 |
| `COMPLETION_SUMMARY.md` | 完成总结 | 5分钟 |
| `QUICK_START_v4.md` | API参考 | 10分钟 |

## 🆘 遇到问题？

### 预览失败
→ 检查文件格式（仅支持 Excel/CSV），确认上传成功

### "仅支持 Excel/CSV 预览"提示
→ 这是正常的，JSON文件不支持预览功能

### 图表生成警告
→ 部分文件（如JSON）不支持图表，系统会自动跳过

### 参数错误
→ 使用双引号，参考上面示例

### 模板不见了
→ 点击"刷新模板列表"

### 规则没生效
→ 确认规则已添加到列表中，且文件类型支持该功能

## 🎊 开始使用

**现在就打开浏览器，访问：**
```
http://127.0.0.1:8000/tasks/create/
```

**享受强大的Excel数据处理功能！** 🚀

---

📌 **提示**: 把这个文档保存到桌面，随时查看！
