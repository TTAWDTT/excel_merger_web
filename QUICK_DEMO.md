# 新功能快速演示

## 🎯 三大新功能快速上手

---

## 1️⃣ 文件删除功能

### 场景
上传了多个文件,但发现其中一个文件有问题,需要删除后重新上传。

### 操作步骤
```
1. 创建任务 → 输入任务名称 → 点击"下一步"
2. 上传文件 → 拖拽或选择多个Excel文件
3. 查看文件列表,每个文件旁边都有"删除"按钮
4. 点击要删除的文件的"删除"按钮
5. 确认删除
6. 文件从列表中移除 ✓
```

### 效果
- ✅ 文件立即从服务器删除
- ✅ 文件列表实时更新
- ✅ 处理时不会包含已删除的文件

---

## 2️⃣ 继续处理未完成任务

### 场景A: 临时中断
正在配置任务,突然有事离开,想稍后继续。

### 操作步骤
```
1. 在任务列表找到状态为"等待处理"的任务
2. 点击"继续处理"按钮
3. 系统自动跳转并加载所有配置:
   - 任务名称 ✓
   - 输出格式 ✓
   - 已上传的文件 ✓
   - 列过滤配置 ✓
   - 列规则 ✓
   - 单元格操作 ✓
4. 直接跳到"执行处理"步骤,或修改配置后再处理
```

### 场景B: 处理失败
任务处理失败(如配置错误),需要修改配置重新处理。

### 操作步骤
```
1. 在任务列表找到状态为"失败"的任务
2. 点击"继续处理"按钮
3. 修改错误的配置
4. 重新处理 ✓
```

### 效果
- ✅ 无需重新上传文件
- ✅ 无需重新配置规则
- ✅ 节省大量时间

---

## 3️⃣ 列过滤功能

### 场景A: 只保留需要的列
有一个包含20列的大表,但只需要其中5列。

### 操作步骤
```
1. 创建任务,在"基本信息"步骤
2. "列过滤模式" 选择 "只保留指定列"
3. 在"列名列表"中输入(每行一个):
   姓名
   学号
   班级
   成绩
   备注
4. 继续完成其他步骤并处理
5. 下载的结果文件只包含这5列 ✓
```

### 场景B: 删除敏感列
表格中有一些敏感信息列(如身份证号、手机号),需要在合并时删除。

### 操作步骤
```
1. 创建任务,在"基本信息"步骤
2. "列过滤模式" 选择 "删除指定列"
3. 在"列名列表"中输入要删除的列名:
   身份证号
   手机号
   家庭住址
4. 继续完成其他步骤并处理
5. 结果文件不包含这些敏感列 ✓
```

### 场景C: 组合使用
先派生新列,再过滤掉原始列。

### 操作步骤
```
1. 基本信息 → 选择"删除指定列",输入: 学号
2. 上传文件
3. 列规则 → 启用列派生:
   - 源列: 学号
   - 新列: 班级
   - 提取: 前2位字符
4. 处理任务
5. 结果: 有"班级"列,没有"学号"列 ✓
```

### 效果
- ✅ 精简输出,只保留需要的数据
- ✅ 保护隐私,删除敏感信息
- ✅ 灵活组合,先派生再过滤

---

## 🔄 完整工作流程示例

### 场景: 合并多个班级的学生信息,提取班级,删除学号

#### Step 1: 创建任务
```
任务名称: 2024学生信息整理
输出格式: XLSX
列过滤模式: 删除指定列
列名列表:
  学号
  手机号
```

#### Step 2: 上传文件
```
- 拖拽上传: 一班.xlsx, 二班.xlsx, 三班.xlsx
- 发现二班.xlsx有错误
- 点击"删除"按钮移除二班.xlsx
- 重新上传正确的二班.xlsx
```

#### Step 3: 配置列规则
```
☑ 启用列派生
源列: 原始学号
新列: 班级
☑ 启用子串提取
起始位置: 1
结束位置: 2
```

#### Step 4: 配置单元格操作
```
+ 添加操作
列名: 成绩
操作: 添加后缀
值: 分
```

#### Step 5: 执行处理
```
查看汇总:
- 任务名称: 2024学生信息整理
- 输出格式: XLSX
- 文件数量: 3个文件
- 列过滤: 删除指定列(2列)
- 列规则: 已启用
- 操作数量: 1个操作

点击"开始处理"
等待处理完成
下载结果文件 ✓
```

#### 结果文件包含:
```
✓ 姓名
✓ 班级(新派生的列)
✓ 成绩(已添加"分"后缀)
✗ 学号(已删除)
✗ 手机号(已删除)
```

---

## 💡 最佳实践

### 文件删除
- ✅ 上传后立即检查文件列表,确认文件正确
- ✅ 如果文件名不对,立即删除重新上传
- ⚠️ 删除后无法恢复,请谨慎操作

### 继续处理
- ✅ 复杂配置建议先保存,稍后继续
- ✅ 测试配置时,可以用pending任务反复调整
- ✅ 失败任务可以修改配置后重试

### 列过滤
- ✅ 先了解源文件的列结构
- ✅ 列名必须完全匹配(区分大小写)
- ✅ 每行一个列名,不要有多余空格
- ✅ 可以配合列规则使用(先派生再过滤)
- ⚠️ 过滤是最后一步,会影响所有前面的操作结果

### 执行顺序
```
1. 合并文件(智能对齐列)
2. 应用列派生规则(创建新列)
3. 应用单元格操作(修改单元格)
4. 应用列过滤(删除或保留列) ← 最后执行
5. 写入输出文件
```

---

## 🐛 常见问题

### Q1: 删除文件后,能恢复吗?
**A**: 不能。删除是永久性的,请在删除前确认。

### Q2: 继续处理会重新上传文件吗?
**A**: 不会。已上传的文件保留在服务器,直接使用。

### Q3: 列名不存在会报错吗?
**A**: 不会报错,但会被忽略。建议先确认列名是否正确。

### Q4: 可以同时保留和删除列吗?
**A**: 不可以。只能选择一种模式:"只保留"或"删除"。

### Q5: 列过滤会影响派生的列吗?
**A**: 会。列过滤在列派生之后执行,可以过滤掉派生的新列。

### Q6: 能先过滤列再派生吗?
**A**: 不能。当前顺序固定为:合并→派生→操作→过滤。

---

## 📞 需要帮助?

如果遇到问题:
1. 查看任务详情页面的错误信息
2. 检查任务配置是否正确
3. 尝试使用"继续处理"修改配置
4. 查看 FEATURE_UPDATE.md 获取详细说明

---

**祝使用愉快!** 🎉
